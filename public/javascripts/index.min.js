$(function(){$("#signup").hide();$("#login-butn").hide();$(".tContent").hide();$(".setLT").hide();$(".l-dropdown").hide();$("#signup-butn").on("click",function(){$(this).hide();$("#login").hide();$("#signup").show();$("#login-butn").show()});$("#login-butn").on("click",function(){$(this).hide();$("#signup").hide();$("#login").show();$("#signup-butn").show()});$("#buy-butn").on("click",function(){console.log("pressed")});$("button.del-alert").on("click",function(){$(this).closest("h3").remove();var e=$(this)[0].childNodes[1].value;deleteAlert(e);console.log(e)});$("button.goto-alert").on("click",function(){$(this).closest("h3").remove();var e=$(this)[0].childNodes[1].value;var t=$(this)[0].childNodes[3].value;goToTrans(e,t);console.log(t)});$("div.del-listing").on("click",function(){console.log("clicked");var e=$(this)[0].childNodes[1].value;console.log(e);data=JSON.stringify({id:e});div=$(this)[0].parentNode;$.ajax({type:"POST",url:"/listing/delete",data:data,processData:false,contentType:"application/json",success:function(e){console.log(JSON.stringify(e));div.parentNode.removeChild(div);var t=document.getElementById("alert-message");t.value="listing deleted"}})});$("form.acceptMeet").submit(function(e){e.preventDefault();var t=new FormData($(this)[0]);tID=$(this)[0].childNodes[1].value;data=JSON.stringify({trans:tID});$.ajax({type:"POST",url:"/transaction/acceptLT",data:data,processData:false,contentType:"application/json",success:function(e){console.log("success");console.log(JSON.stringify(e))}})});$("form.sendM").submit(function(e){e.preventDefault();mContent=$(this)[0].childNodes[1].childNodes[1].value;$(this)[0].childNodes[1].childNodes[1].value="";mTrans=$(this)[0].childNodes[1].childNodes[3].value;data=JSON.stringify({content:mContent,transID:mTrans});$.ajax({type:"POST",url:"/transaction/addM",data:data,processData:false,dataType:"text",contentType:"application/json",success:function(e){$(mTrans).hide().fadeIn("fast");var t=e;var n=document.createTextNode(t);var r=document.createElement("h3");r.appendChild(n);var i=document.getElementById(mTrans);i.appendChild(r)}})});$("form.deleteT").submit(function(e){e.preventDefault();tID=$(this)[0].childNodes[1].value;data=JSON.stringify({tID:tID});console.log($(this).parent().parent().parent());$(this).parent().parent().parent().hide();$.ajax({type:"POST",url:"/transaction/delT",data:data,processData:false,dataType:"text",contentType:"application/json",success:function(e){if(e=="OK"){$(this).parent().parent().parent().hide()}else{console.log("something went wrong")}}})});$("#plus-course").on("click",function(){console.log("clicked");var e=++$(this)[0].parentNode.parentNode.childNodes[1].value;console.log($(this)[0].parentNode.parentNode.childNodes[1].value);var t="<div class='form-container'><h3>[Add Course]</h3>					<div class='pure-control-group'><label>Course Department</label>            			<input type='text' class='form-control' name='department"+e+"'/>            		</div>            		<div class='pure-control-group'>            			<label>Course Number</label>            			<input type='number' class='form-control' name='number"+e+"'/>            		</div></div>";$(this).parent().prepend(t)});$("form.addL").submit(function(e){e.preventDefault()})});buy=function(e){console.log("listing id: "+e._id)};$("#container h3").click(function(e){console.log("this one");$(e.target).next("div").siblings("div").slideUp("fast")});toggleChat=function(e,t){divTag="#"+e;chatTag="#"+t;console.log(chatTag);$(divTag).toggle();console.log($(divTag).is(":visible"));if($(divTag).is(":visible")){$("html, body").animate({scrollTop:$(chatTag).offset().top-200},1e3)}};togglelDrop=function(e,t){var n="#"+e;var r="#"+t;$(n).toggle();if($(n).is(":visible")){$(r).html("less &#x25B2;")}else{$(r).html("more &#9660;")}};goToTrans=function(e,t){divTag="#c"+e;chatTag="#s"+e;$(divTag).show();$("html, body").animate({scrollTop:$(chatTag).offset().top},1e3);deleteAlert(t)};deleteAlert=function(e){console.log("deleteAlert called");data=JSON.stringify({index:e});$.ajax({type:"POST",url:"/user/deleteAlert",data:data,processData:false,dataType:"text",contentType:"application/json",success:function(e){if(e=="OK"){console.log("success")}}})};findCoursesByT=function(e){console.log("function call");data=JSON.stringify({title:e});retString="";$.ajax({type:"POST",url:"/book/findCourses",data:data,processData:false,dataType:"text",async:false,contentType:"application/json",success:function(e){console.log(e);retString+=e}});return retString};addCouseByT=function(e,t,n){y;data=JSON.stringify()}